<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BSCãƒ»BNB ä¸€æ¬¾æ›´å¥½ç”¨çš„ä¸ªäººUSDTæ”¶æ¬¾ç½‘å…³ BEpusdt</title>
    <link rel="shortcut icon" href="/payment/img/tether.svg">
    <link rel="stylesheet" href="/payment/css/core.min.css">
    <script src="/payment/js/jquery.min.js"></script>
    <script src="/payment/js/jquery.qrcode_1.0.min.js"></script>
    <script src="/payment/i18n/i18next.min.js"></script>
    <script src="/payment/js/core.min.js"></script>
</head>

<body>
    <div class="payment-container">
        <div class="language-switcher">
            <select id="languageSwitcher" onchange="changeLanguage(this.value)">
                <option value="zh">ä¸­æ–‡</option>
                <option value="en">English</option>
            </select>
        </div>

        <div class="crypto-icon">BNB</div>
        <h1 class="payment-title" data-i18n="payment.title">BNB æ”¯ä»˜</h1>
        <p class="payment-subtitle">
            <span class="status-indicator"></span>
            <span data-i18n="payment.subtitle">è¯·ä½¿ç”¨ <strong>å¸å®‰æ™ºèƒ½é“¾ (BSC)</strong> è¿›è¡Œè½¬è´¦</span>
            <span class="network-badge" data-i18n="payment.networkBadge">BEP20</span>
        </p>

        <div class="order-info">
            <div class="order-item">
                <span class="order-label" data-i18n="payment.paymentAmount">ä»˜æ¬¾æ•°é¢:</span>
                <span class="order-value amount-value" id="payAmount" onclick="copyAmount()" data-i18n="[title]payment.clickToCopy" title="ç‚¹å‡»å¤åˆ¶é‡‘é¢">{{.amount}} BNB</span>
            </div>
            <div class="order-item">
                <span class="order-label" data-i18n="payment.merchantOrder">å•†æˆ·è®¢å•:</span>
                <span class="order-value">{{.order_id}}</span>
            </div>
            <div class="order-item">
                <span class="order-label" data-i18n="payment.orderAmount">è®¢å•é‡‘é¢:</span>
                <span class="order-value">
                    <span class="fiat-amount"><span data-i18n="payment.amountPrefix">çº¦</span> {{.money}} {{.fiat}}</span>
                </span>
            </div>
        </div>
        <div class="countdown-banner">
            <div class="countdown-content">
                <div class="countdown-info">
                    <div class="countdown-title" data-i18n="payment.countdownTitle">â° æ”¯ä»˜å€’è®¡æ—¶</div>
                    <div class="countdown-subtitle" data-i18n="payment.countdownSubtitle">è¯·åœ¨æŒ‡å®šæ—¶é—´å†…å®Œæˆè½¬è´¦ï¼Œè¶…æ—¶å‹¿ä»˜è¯·é‡æ–°ä¸‹å•</div>
                </div>
                <div class="countdown-timer" id="countdown">
                    <div class="time-unit">
                        <span class="time-number" id="minutes">15</span>
                        <span class="time-label" data-i18n="payment.minutes">åˆ†</span>
                    </div>
                    <span class="time-separator">:</span>
                    <div class="time-unit">
                        <span class="time-number" id="seconds">00</span>
                        <span class="time-label" data-i18n="payment.seconds">ç§’</span>
                    </div>
                </div>
            </div>
        </div>
        <div class="qr-section">
            <div class="qr-code" id="qrcode"></div>
            <div class="address-section">
                <div class="address-label" data-i18n="payment.addressLabel">æ”¶æ¬¾åœ°å€ (BEP20 ç½‘ç»œ)</div>
                <div class="address-text" id="walletAddress">{{.address}}</div>
                <button class="copy-btn" onclick="copyAddress()" data-i18n="payment.copyAddress">å¤åˆ¶åœ°å€</button>
            </div>
        </div>
        <div class="instructions">
            <h4 data-i18n="payment.instructionsTitle">ğŸ“‹ è½¬è´¦è¯´æ˜</h4>
            <ol>
                <li data-i18n="[html]payment.instruction1">å¿…é¡»ä½¿ç”¨ <strong>BEP20 ç½‘ç»œ</strong> è¿›è¡Œè½¬è´¦ï¼Œè¯·å‹¿è½¬å…¥ USDT/USDCï¼</li>
                <li data-i18n="payment.instruction2">è½¬è´¦å®Œæˆåç³»ç»Ÿä¼šè‡ªåŠ¨ç¡®è®¤åˆ°è´¦</li>
                <li data-i18n="payment.instruction3">è½¬è´¦é‡‘é¢å¿…é¡»ä¸æ˜¾ç¤ºé‡‘é¢å®Œå…¨ä¸€è‡´</li>
                <li data-i18n="payment.instruction4">å¦‚æœæœ‰å…¶å®ƒç–‘é—®ï¼Œè¯·è”ç³»å®¢æœå¤„ç†</li>
            </ol>
        </div>
        <div class="footer-info">
            <div class="project-info">
                <span class="powered-by" data-i18n="payment.poweredBy">Powered by</span>
                <a href="https://github.com/v03413/BEpusdt" target="_blank" class="project-link">
                    <strong>BEpusdt</strong>
                </a>
                <span class="open-source" data-i18n="payment.github">Github</span>
            </div>
        </div>
    </div>

    <script>
        let currentLang = localStorage.getItem('payment_language') || navigator.language.split('-')[0] || 'en';
        if (currentLang !== 'zh' && currentLang !== 'en') {
            currentLang = 'en';
        }

        i18next.init({
            lng: currentLang,
            debug: false,
            resources: {
                zh: { translation: {} },
                en: { translation: {} }
            }
        }, function(err, t) {
            if (err) {
                console.error('i18next initialization failed:', err);
                return;
            }

            Promise.all([
                fetch('/payment/locales/zh.json').then(r => r.json()),
                fetch('/payment/locales/en.json').then(r => r.json())
            ]).then(function([zhData, enData]) {
                i18next.addResourceBundle('zh', 'translation', zhData);
                i18next.addResourceBundle('en', 'translation', enData);
                updateContent();
                document.getElementById('languageSwitcher').value = currentLang;
            }).catch(function(error) {
                console.error('Failed to load language files:', error);
            });
        });

        function updateContent() {
            document.querySelectorAll('[data-i18n]').forEach(function(element) {
                const key = element.getAttribute('data-i18n');
                if (key.startsWith('[')) {
                    const matches = key.match(/\[(.+?)\](.+)/);
                    if (matches) {
                        const attr = matches[1];
                        const transKey = matches[2];
                        if (attr === 'html') {
                            element.innerHTML = i18next.t(transKey);
                        } else {
                            element.setAttribute(attr, i18next.t(transKey));
                        }
                    }
                } else {
                    const translation = i18next.t(key);
                    if (element.tagName === 'INPUT' || element.tagName === 'TEXTAREA') {
                        element.placeholder = translation;
                    } else {
                        element.innerHTML = translation;
                    }
                }
            });
        }

        function changeLanguage(lang) {
            i18next.changeLanguage(lang, function(err, t) {
                if (err) {
                    console.error('Language change failed:', err);
                    return;
                }
                currentLang = lang;
                localStorage.setItem('payment_language', lang);
                updateContent();
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            Payment.init({
                expire: "{{.expire}}",
                address: "{{.address}}",
                amount: "{{.amount}}",
                trade_id: "{{.trade_id}}",
                return_url: "{{.return_url}}"
            });
        });
    </script>
</body>

</html>

